{"ast":null,"code":"var _jsxFileName = \"/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/components/SimplePortal.js\";\nimport React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\"; //import \"./simple-portal.css\";\n\nclass SimplePortal extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      list: [],\n      input: \"\",\n      showDialog: false\n    };\n    this._onChange = this._onChange.bind(this);\n    this._onSubmit = this._onSubmit.bind(this);\n  }\n\n  _onChange(e) {\n    let input = e.target.value;\n    this.setState({\n      input\n    });\n  }\n\n  _onSubmit(e) {\n    e.preventDefault();\n    let showDialog = false; // Dont Mutate the State!!!\n\n    let list = this.state.list.slice();\n    list.push(this.state.input);\n    this.setState({\n      showDialog,\n      list,\n      input: \"\"\n    });\n  }\n\n  render() {\n    const {\n      showDialog,\n      list,\n      input\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn\",\n      onClick: e => this.setState({\n        showDialog: !showDialog\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Add Item\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, list.map(item => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 36\n        }\n      }, item);\n    }))), showDialog === true ? /*#__PURE__*/React.createElement(DialogModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dialog-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, \"New List Item\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this._onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: input,\n      onChange: this._onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    })))) : null);\n  }\n\n}\n\nclass DialogModal extends Component {\n  constructor() {\n    super();\n    this.body = document.getElementsByTagName(\"body\")[0];\n    this.el = document.createElement(\"div\");\n    this.el.id = \"dialog-root\";\n  }\n\n  componentDidMount() {\n    this.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    this.body.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n\n}\n\nexport default SimplePortal;","map":{"version":3,"sources":["/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/components/SimplePortal.js"],"names":["React","Component","createPortal","SimplePortal","constructor","state","list","input","showDialog","_onChange","bind","_onSubmit","e","target","value","setState","preventDefault","slice","push","render","map","item","DialogModal","body","document","getElementsByTagName","el","createElement","id","componentDidMount","appendChild","componentWillUnmount","removeChild","props","children"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\n//import \"./simple-portal.css\";\n\nclass SimplePortal extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            list: [],\n            input: \"\",\n            showDialog: false\n        };\n\n        this._onChange = this._onChange.bind(this);\n        this._onSubmit = this._onSubmit.bind(this);\n    }\n\n    _onChange(e) {\n        let input = e.target.value;\n\n        this.setState({ input });\n    }\n\n    _onSubmit(e) {\n        e.preventDefault();\n        let showDialog = false;\n\n        // Dont Mutate the State!!!\n        let list = this.state.list.slice();\n\n        list.push(this.state.input);\n\n        this.setState({ showDialog, list, input: \"\" });\n    }\n\n    render() {\n        const { showDialog, list, input } = this.state;\n\n        return (\n            <div className=\"container\">\n                <div>\n                    <button\n                        className=\"btn\"\n                        onClick={e =>\n                            this.setState({\n                                showDialog: !showDialog\n                            })\n                        }\n                    >\n                        Add Item\n                    </button>\n                </div>\n\n                {/* Render Items from List */}\n                <div>\n                    <ul>\n                        {list.map(item => {\n                            return <li key={item}>{item}</li>;\n                        })}\n                    </ul>\n                </div>\n\n                {/* Show Modal - Renders Outside React Hierarchy Tree via Portal Pattern */}\n                {showDialog === true ? (\n                    <DialogModal>\n                        <div className=\"dialog-wrapper\">\n                            <h1>New List Item</h1>\n                            <form onSubmit={this._onSubmit}>\n                                <input type=\"text\" value={input} onChange={this._onChange} />\n                            </form>\n                        </div>\n                    </DialogModal>\n                ) : null}\n            </div>\n        );\n    }\n}\n\nclass DialogModal extends Component {\n    constructor() {\n        super();\n        this.body = document.getElementsByTagName(\"body\")[0];\n        this.el = document.createElement(\"div\");\n        this.el.id = \"dialog-root\";\n    }\n\n    componentDidMount() {\n        this.body.appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        this.body.removeChild(this.el);\n    }\n\n    render() {\n        return createPortal(this.props.children, this.el);\n    }\n}\n\nexport default SimplePortal;"]},"metadata":{},"sourceType":"module"}