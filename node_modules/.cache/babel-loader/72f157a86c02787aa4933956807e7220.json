{"ast":null,"code":"var _jsxFileName = \"/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/pages/Signup.js\";\nimport React from \"react\";\nimport \"materialize-css\";\nimport M from \"materialize-css\";\nimport { DatePicker } from \"react-materialize\";\nimport { NavLink } from \"react-router-dom\";\nimport Particles from 'react-particles-js';\n\nclass Signup extends React.Component {\n  componentDidMount() {\n    // Auto initialize all the things!\n    M.AutoInit();\n\n    function check_login_state() {\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          const token = localStorage.getItem('token'); //alert(\"Sending request\");\n\n          this.xhr.open(\"GET\", \"http://localhost:8080/users/checkLogged\", true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.setRequestHeader('Authorization', token);\n          this.xhr.send();\n        },\n        callback: function () {\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              //alert(\"Not logged in\");\n              //alert(this.status);\n              window.location = '/home';\n            }\n          }\n        }\n      };\n      sender_object.send();\n    }\n\n    check_login_state();\n  }\n\n  render() {\n    function attempt_signup() {\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          let data = {\n            fname: document.getElementById(\"firstname\").value,\n            lname: document.getElementById(\"lastname\").value,\n            user: document.getElementById(\"email\").value,\n            password: document.getElementById(\"password\").value,\n            dob: document.getElementById(\"dob\").value,\n            no: document.getElementById(\"phoneno\").value\n          };\n          this.xhr.open(\"POST\", \"http://localhost:8080/users/signup\", true);\n          this.xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n          this.xhr.onreadystatechange = this.callback;\n          console.log(\"Sending data\");\n          console.log(data);\n          this.xhr.send(JSON.stringify(data));\n        },\n        callback: function () {\n          if (this.readyState === 4 && this.status === 201) {\n            alert(\"Successful Signup\");\n            window.location = '/login';\n          }\n        }\n      };\n      sender_object.send();\n    }\n\n    function checkUser() {\n      console.log(\"Checking user\");\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          this.xhr.open(\"GET\", \"http://localhost:8080/users/check?user=\" + document.getElementById(\"email\").value, true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.send();\n        },\n        callback: function () {\n          if (this.readyState === 4) {\n            const button = document.getElementById(\"signup\");\n\n            if (this.status == 404) {\n              console.log(\"404\");\n              button.removeAttribute(\"disabled\");\n            }\n\n            if (this.status == 200) {\n              console.log(\"200\");\n              alert(\"User Already Exists\");\n              button.disabled = \"true\";\n            }\n\n            if (this.status == 500) {\n              console.log(\"500\");\n              alert(\"server error\");\n            }\n          }\n        }\n      };\n      sender_object.send();\n    }\n\n    const particleStyle = {\n      width: \"100%\",\n      height: \"100%\",\n      position: \"fixed\",\n      \"z-index\": \"-10\",\n      top: \"0\",\n      left: \"0\",\n      \"background-color\": \"#2c2e43\"\n    };\n    const divStyle = {\n      \"background-color\": \"#ededf0\"\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Particles, {\n      style: particleStyle,\n      params: {\n        \"particles\": {\n          \"number\": {\n            \"value\": 6,\n            \"density\": {\n              \"enable\": true,\n              \"value_area\": 800\n            }\n          },\n          \"color\": {\n            \"value\": \"#1b1e34\"\n          },\n          \"shape\": {\n            \"type\": \"polygon\",\n            \"stroke\": {\n              \"width\": 0,\n              \"color\": \"#000\"\n            },\n            \"polygon\": {\n              \"nb_sides\": 6\n            },\n            \"image\": {\n              \"src\": \"img/github.svg\",\n              \"width\": 100,\n              \"height\": 100\n            }\n          },\n          \"opacity\": {\n            \"value\": 0.3,\n            \"random\": true,\n            \"anim\": {\n              \"enable\": false,\n              \"speed\": 1,\n              \"opacity_min\": 0.1,\n              \"sync\": false\n            }\n          },\n          \"size\": {\n            \"value\": 160,\n            \"random\": false,\n            \"anim\": {\n              \"enable\": true,\n              \"speed\": 10,\n              \"size_min\": 40,\n              \"sync\": false\n            }\n          },\n          \"line_linked\": {\n            \"enable\": false,\n            \"distance\": 200,\n            \"color\": \"#ffffff\",\n            \"opacity\": 1,\n            \"width\": 2\n          },\n          \"move\": {\n            \"enable\": true,\n            \"speed\": 8,\n            \"direction\": \"none\",\n            \"random\": false,\n            \"straight\": false,\n            \"out_mode\": \"out\",\n            \"bounce\": false,\n            \"attract\": {\n              \"enable\": false,\n              \"rotateX\": 600,\n              \"rotateY\": 1200\n            }\n          }\n        },\n        \"interactivity\": {\n          \"detect_on\": \"canvas\",\n          \"events\": {\n            \"onhover\": {\n              \"enable\": false,\n              \"mode\": \"grab\"\n            },\n            \"onclick\": {\n              \"enable\": false,\n              \"mode\": \"push\"\n            },\n            \"resize\": true\n          },\n          \"modes\": {\n            \"grab\": {\n              \"distance\": 400,\n              \"line_linked\": {\n                \"opacity\": 1\n              }\n            },\n            \"bubble\": {\n              \"distance\": 400,\n              \"size\": 40,\n              \"duration\": 2,\n              \"opacity\": 8,\n              \"speed\": 3\n            },\n            \"repulse\": {\n              \"distance\": 200,\n              \"duration\": 0.4\n            },\n            \"push\": {\n              \"particles_nb\": 4\n            },\n            \"remove\": {\n              \"particles_nb\": 2\n            }\n          }\n        },\n        \"retina_detect\": true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row s12 m3 offset-m3\",\n      style: {\n        marginTop: \"1%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m3 offset-m3 card center\",\n      style: divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, \"Sign-up\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m3 offset-m0 card center\",\n      style: divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/login\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }, \"Login\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m6 offset-m3 card center\",\n      style: divStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"validate\",\n      type: \"text\",\n      name: \"email\",\n      id: \"email\",\n      onBlur: checkUser,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }, \"Username\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"validate\",\n      type: \"text\",\n      name: \"firstname\",\n      id: \"firstname\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"firstname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }, \"First Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"validate\",\n      type: \"text\",\n      name: \"lastname\",\n      id: \"lastname\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"lastname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, \"Last Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"validate\",\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"validate\",\n      type: \"tel\",\n      name: \"phoneno\",\n      id: \"phoneno\",\n      maxLength: \"10\",\n      minLength: \"10\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"phoneno\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, \"Phone No\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      name: \"dob\",\n      id: \"dob\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"dob\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, \"DOB\")), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"signup\",\n      className: \"btn btn-small blue waves-effect\",\n      onClick: attempt_signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 15\n      }\n    }, \"SignUp\")))));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/pages/Signup.js"],"names":["React","M","DatePicker","NavLink","Particles","Signup","Component","componentDidMount","AutoInit","check_login_state","sender_object","xhr","XMLHttpRequest","send","token","localStorage","getItem","open","onreadystatechange","callback","setRequestHeader","readyState","status","window","location","render","attempt_signup","data","fname","document","getElementById","value","lname","user","password","dob","no","console","log","JSON","stringify","alert","checkUser","button","removeAttribute","disabled","particleStyle","width","height","position","top","left","divStyle","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"materialize-css\";\nimport M from \"materialize-css\";\nimport { DatePicker } from \"react-materialize\";\nimport { NavLink } from \"react-router-dom\";\nimport Particles from 'react-particles-js';\n\nclass Signup extends React.Component {\n  componentDidMount() {\n    // Auto initialize all the things!\n    M.AutoInit();\n    function check_login_state() {\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          const token = localStorage.getItem('token');\n          //alert(\"Sending request\");\n          this.xhr.open(\"GET\", \"http://localhost:8080/users/checkLogged\", true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.setRequestHeader('Authorization', token);\n          this.xhr.send();\n        },\n        callback: function () {\n          if (this.readyState == 4) {\n            if (this.status == 200) {\n              //alert(\"Not logged in\");\n              //alert(this.status);\n              window.location = '/home';\n            }\n          }\n        }\n      }\n      sender_object.send();\n    }\n    check_login_state();\n  }\n  render() {\n    function attempt_signup() {\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          let data = {\n            fname: document.getElementById(\"firstname\").value,\n            lname: document.getElementById(\"lastname\").value,\n            user: document.getElementById(\"email\").value,\n            password: document.getElementById(\"password\").value,\n            dob: document.getElementById(\"dob\").value,\n            no: document.getElementById(\"phoneno\").value\n          }\n          this.xhr.open(\"POST\", \"http://localhost:8080/users/signup\", true);\n          this.xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n          this.xhr.onreadystatechange = this.callback;\n          console.log(\"Sending data\");\n          console.log(data);\n          this.xhr.send(JSON.stringify(data));\n        },\n        callback: function () {\n          if (this.readyState === 4 && this.status === 201) {\n            alert(\"Successful Signup\");\n            window.location = '/login';\n          }\n        }\n      }\n      sender_object.send()\n    }\n\n    function checkUser() {\n      console.log(\"Checking user\");\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          this.xhr.open(\"GET\", \"http://localhost:8080/users/check?user=\" + document.getElementById(\"email\").value, true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.send();\n        },\n        callback: function () {\n          if (this.readyState === 4) {\n            const button = document.getElementById(\"signup\");\n            if (this.status == 404) {\n              console.log(\"404\");\n              button.removeAttribute(\"disabled\");\n            }\n            if (this.status == 200) {\n              console.log(\"200\");\n              alert(\"User Already Exists\");\n              button.disabled = \"true\";\n            }\n            if (this.status == 500) {\n              console.log(\"500\");\n              alert(\"server error\");\n            }\n          }\n        }\n      }\n      sender_object.send()\n    }\n\n    const particleStyle = {\n      width: \"100%\",\n      height: \"100%\",\n      position: \"fixed\",\n      \"z-index\": \"-10\",\n      top: \"0\",\n      left: \"0\",\n      \"background-color\": \"#2c2e43\"\n    }\n\n    const divStyle = {\n      \"background-color\": \"#ededf0\"\n    }\n    return (\n      <>\n        <main>\n          <Particles style={particleStyle}\n            params={{\n              \"particles\": {\n                \"number\": {\n                  \"value\": 6,\n                  \"density\": {\n                    \"enable\": true,\n                    \"value_area\": 800\n                  }\n                },\n                \"color\": {\n                  \"value\": \"#1b1e34\"\n                },\n                \"shape\": {\n                  \"type\": \"polygon\",\n                  \"stroke\": {\n                    \"width\": 0,\n                    \"color\": \"#000\"\n                  },\n                  \"polygon\": {\n                    \"nb_sides\": 6\n                  },\n                  \"image\": {\n                    \"src\": \"img/github.svg\",\n                    \"width\": 100,\n                    \"height\": 100\n                  }\n                },\n                \"opacity\": {\n                  \"value\": 0.3,\n                  \"random\": true,\n                  \"anim\": {\n                    \"enable\": false,\n                    \"speed\": 1,\n                    \"opacity_min\": 0.1,\n                    \"sync\": false\n                  }\n                },\n                \"size\": {\n                  \"value\": 160,\n                  \"random\": false,\n                  \"anim\": {\n                    \"enable\": true,\n                    \"speed\": 10,\n                    \"size_min\": 40,\n                    \"sync\": false\n                  }\n                },\n                \"line_linked\": {\n                  \"enable\": false,\n                  \"distance\": 200,\n                  \"color\": \"#ffffff\",\n                  \"opacity\": 1,\n                  \"width\": 2\n                },\n                \"move\": {\n                  \"enable\": true,\n                  \"speed\": 8,\n                  \"direction\": \"none\",\n                  \"random\": false,\n                  \"straight\": false,\n                  \"out_mode\": \"out\",\n                  \"bounce\": false,\n                  \"attract\": {\n                    \"enable\": false,\n                    \"rotateX\": 600,\n                    \"rotateY\": 1200\n                  }\n                }\n              },\n              \"interactivity\": {\n                \"detect_on\": \"canvas\",\n                \"events\": {\n                  \"onhover\": {\n                    \"enable\": false,\n                    \"mode\": \"grab\"\n                  },\n                  \"onclick\": {\n                    \"enable\": false,\n                    \"mode\": \"push\"\n                  },\n                  \"resize\": true\n                },\n                \"modes\": {\n                  \"grab\": {\n                    \"distance\": 400,\n                    \"line_linked\": {\n                      \"opacity\": 1\n                    }\n                  },\n                  \"bubble\": {\n                    \"distance\": 400,\n                    \"size\": 40,\n                    \"duration\": 2,\n                    \"opacity\": 8,\n                    \"speed\": 3\n                  },\n                  \"repulse\": {\n                    \"distance\": 200,\n                    \"duration\": 0.4\n                  },\n                  \"push\": {\n                    \"particles_nb\": 4\n                  },\n                  \"remove\": {\n                    \"particles_nb\": 2\n                  }\n                }\n              },\n              \"retina_detect\": true\n            }}\n          />\n          <div className=\"row s12 m3 offset-m3\" style={{marginTop: \"1%\"}}>\n            <div className=\"col s12 m3 offset-m3 card center\" style={divStyle}>\n              <h5>Sign-up</h5>\n            </div>\n            <div className=\"col s12 m3 offset-m0 card center\" style={divStyle}>\n              <h5>\n                <NavLink to=\"/login\" exact>\n                  Login\n                  </NavLink>\n              </h5>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col s12 m6 offset-m3 card center\" style={divStyle}>\n\n              <div className=\"input-field col s12\">\n                <input className=\"validate\" type=\"text\" name=\"email\" id=\"email\" onBlur={checkUser} required />\n                <label for=\"email\">Username</label>\n              </div>\n\n              <div className=\"input-field col s12\">\n                <input className=\"validate\" type=\"text\" name=\"firstname\" id=\"firstname\" required />\n                <label for=\"firstname\">First Name</label>\n              </div>\n              <div className=\"input-field col s12\">\n                <input className=\"validate\" type=\"text\" name=\"lastname\" id=\"lastname\" required />\n                <label for=\"lastname\">Last Name</label>\n              </div>\n\n\n              <div className=\"input-field col s12\">\n                <input className=\"validate\" type=\"password\" name=\"password\" id=\"password\" required />\n                <label for=\"password\">Password</label>\n              </div>\n\n              <div className=\"input-field col s12\">\n                <input className=\"validate\" type=\"tel\" name=\"phoneno\" id=\"phoneno\" maxLength=\"10\" minLength=\"10\" required />\n                <label for=\"phoneno\">Phone No</label>\n              </div>\n\n              <div className=\"input-field col s12\">\n                <DatePicker name=\"dob\" id=\"dob\" required />\n                <label for=\"dob\">DOB</label>\n              </div>\n\n\n\n              <button id=\"signup\" className=\"btn btn-small blue waves-effect\" onClick={attempt_signup}>\n                SignUp\n              </button>\n            </div>\n          </div>\n        </main>\n      </>\n    );\n  }\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}