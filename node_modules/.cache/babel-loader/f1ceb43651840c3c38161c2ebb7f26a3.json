{"ast":null,"code":"var _jsxFileName = \"/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/pages/Home.js\";\nimport React from \"react\";\nimport M from \"materialize-css\";\nimport { Button } from \"react-materialize\";\nimport SimplePortal from \"../components/SimplePortal\";\nimport { NavLink } from \"react-router-dom\";\nimport Modal from \"../components/Modal\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showModal = e => {\n      this.setState({\n        compose: !this.state.compose\n      });\n    };\n\n    this.state = {\n      compose: false\n    };\n  }\n\n  componentDidMount() {\n    // Auto initialize all the things!\n    M.AutoInit();\n\n    function check_login_state() {\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send: function () {\n          this.xhr.open(\"POST\", \"http://localhost:8080/api/login\", true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.withCredentials = true;\n          this.xhr.send();\n        },\n        callback: function () {\n          if (this.readyState == 4) {\n            if (this.status == 202) {\n              alert(\"You are already logged in\");\n              window.location.href = \"/home\";\n            }\n\n            if (this.status == 403) {\n              alert(\"User not found\");\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              window.location.href = \"/login\";\n            }\n\n            if (this.status == 401) {\n              alert(\"incorrect password\");\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              window.location.href = \"/login\";\n            }\n\n            if (this.status == 204) {\n              //not yet logged in. no problem.\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              console.log(\"Login Again\");\n            }\n          }\n        }\n      };\n      sender_object.send();\n    }\n\n    check_login_state();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n      className: \"col s2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m2 offset-m1 card center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"waves effect \",\n      href: \"#\",\n      onClick: e => {\n        this.showModal();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 18\n      }\n    }, \"Compose Mail\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m4 offset-m0 card center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, \"Home Page\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m4 offset-m0 card center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, \"Home Page 1\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m4 offset-m0 card center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, \"Home Page 2\"))), /*#__PURE__*/React.createElement(Modal, {\n      onClose: this.showModal,\n      compose: this.state.compose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, \"durgaprasadsn123@gmail.com\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/durga/Sem_6/Web_Tech_2/Project/intra_mail/src/pages/Home.js"],"names":["React","M","Button","SimplePortal","NavLink","Modal","Login","Component","constructor","props","showModal","e","setState","compose","state","componentDidMount","AutoInit","check_login_state","sender_object","xhr","XMLHttpRequest","send","open","onreadystatechange","callback","withCredentials","readyState","status","alert","window","location","href","document","cookie","console","log","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport M from \"materialize-css\";\nimport { Button } from \"react-materialize\";\nimport SimplePortal from \"../components/SimplePortal\";\nimport { NavLink } from \"react-router-dom\";\nimport Modal from \"../components/Modal\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { compose : false};\n    };\n    showModal = e => {\n      this.setState({compose:!this.state.compose});\n    };\n  componentDidMount() {\n    // Auto initialize all the things!\n    M.AutoInit();\n\n    function check_login_state(){\n      var sender_object = {\n        xhr: new XMLHttpRequest(),\n        send:function(){\n          this.xhr.open(\"POST\",\"http://localhost:8080/api/login\",true);\n          this.xhr.onreadystatechange = this.callback;\n          this.xhr.withCredentials = true;\n          this.xhr.send();\n        },\n        callback:function(){\n          if (this.readyState == 4){\n            if (this.status == 202){\n              alert(\"You are already logged in\");\n              window.location.href = \"/home\";\n            }\n            if (this.status == 403){\n              alert(\"User not found\");\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              window.location.href=\"/login\";\n            }\n            if(this.status == 401){\n              alert(\"incorrect password\");\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              window.location.href=\"/login\";\n            }\n            if (this.status == 204){\n              //not yet logged in. no problem.\n              document.cookie = \"username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              document.cookie = \"loginstring=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n              console.log(\"Login Again\");\n            }\n          }\n        }\n      }\n      sender_object.send();\n    }\n    check_login_state();\n  }\n  render() {\n    return (\n      <>\n        <main className=\"col s2\">\n            <div className=\"row\">\n            <div className=\"col s12 m2 offset-m1 card center\">\n             <h6><a className=\"waves effect \" href=\"#\" onClick={e => { this.showModal(); }}>\n            Compose Mail\n            {/* <NavLink to=\"/compose\" exact>\n              Compose Mail\n            </NavLink> */}\n          </a></h6>\n            \n            </div>\n            </div>\n          <div className=\"row\">\n            <div className=\"col s12 m4 offset-m0 card center\">\n              <p>Home Page</p>\n            </div>\n            <div className=\"col s12 m4 offset-m0 card center\">\n              <p>Home Page 1</p>\n            </div>\n            <div className=\"col s12 m4 offset-m0 card center\">\n              <p>Home Page 2</p>\n            </div>\n          </div>\n          <Modal onClose={this.showModal} compose={this.state.compose}>durgaprasadsn123@gmail.com</Modal>\n        </main>\n\n      </>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}